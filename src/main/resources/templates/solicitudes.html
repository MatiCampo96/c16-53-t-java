<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" >
    <head>
        <link rel="icon" id="logo" type="image/png" href="imagenes/logo1.png">

        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

        <!-- el del conflicto -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">


        <script src="https://kit.fontawesome.com/2296f7e3a6.js" crossorigin="anonymous"></script> 

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
        
        <link href="https://db.onlinewebfonts.com/c/a96215c9d9ddf6f69b603c331081496e?family=ISOCTEUR+V1" rel="stylesheet" type="text/css"/>

        
        <title>ENCUENTRAME</title>
                
        <link rel="stylesheet" href="css/header.css"> 
        <link rel="stylesheet" href="css/footer.css"> 
        <link rel="stylesheet" href="css/solicitudes.css">

        
    </head>

    <body>

            <!-- La barra de navegación, con el logo, adopciones,refugios,etc -->
            <nav class="header" >
                <div class="logo-container">
                    <a href="/">
                        <img src="imagenes/logo1.png" alt="Logo Encuentrame">
                    </a>    
                </div>
                
                <ul class="nav-list">

                    <li><a href="/creation">Adopciones</a></li>
                    <li><a href="/mascotas">Mascotas</a></li>
                    <li><a href="refugios">Refugios</a></li>
                    <li><a href="adopcionespeciales">Adopción Especial</a></li>
                    <li><a href="sobrenosotros">Sobre Nosotros</a></li>
                    <li><a href="solicitudes" sec:authorize="hasRole('ROLE_ADMIN')">Solitudes de adopcion</a></li>
                    <div class="botones-container">
                        <a class="ingresarheader" th:href="@{/login}" >Ingresar</a>
                        <a class="registrarseheader" th:href="@{/registrar}" >Registrarse</a>
                        <a class="ingresarheader" sec:authorize="isAuthenticated()" th:href="@{/logout}">Logout</a>
                    </div>
                </ul>
            </nav>
     
            
    <h1></h1>
        
                    <!-- Listado de cursos -->
        <div>
            <table class="table table-striped formularioD">
                <thead class="table-dark">
                    <tr>
                        <th scope="col">Nombre del solicitante</th>
                        <th scope="col">Información del solicitante</th>
                        <th scope="col">Nombre de la mascota</th>
                        <th scope="col">Información de la mascota</th>
                        <th scope="col">Salario</th>
                        <th scope="col">Tipo de vivienda</th>
                        <th scope="col">Compromiso de esterilización</th>
                        <th scope="col">Fecha y hora de creación</th>
                        <th scope="col">Estado de adopción</th>
                        <th scope="col">Aprobar solicitud</th>
                        <th scope="col">Rechazar solicitud</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="adoption, i : ${requestAdoptions}">
                        <th scope="row" th:text="${adoption.myUser.name}"></th>
                        <td></td>
                        <td th:text="${adoption.pet.pet_name}"></td>
                        <td></td>
                        <td th:text="${adoption.salary}"></td>
                        <td th:text="${adoption.housingType}"></td>
                        <td th:text="${adoption.sterilizationCommitment}"></td>
                        <td th:text="${adoption.creationDate}"></td>
                        <td th:class="(${adoption.adoptionStatus} == 'WAITING')? 'bg-warning text-white p-2' : ''" th:text="${adoption.adoptionStatus}"></td>
                        <td><form method="post" th:action="@{/solicitudes/aprove}">
                            <input type="hidden" class="form-control" name="requestId" th:value="*{adoption.adoption_id}"  hidden="true">
                            <button type="submit" class="btn btn-success" >Aceptar</button>
                            </form>
                            </td>
                        <td><form method="post" th:action="@{/solicitudes/deny}">
                        <input type="hidden" class="form-control" name="requestId" th:value="*{adoption.adoption_id}"  hidden="true">
                        <button type="submit" class="btn btn-danger" >Rechazar</button>
                        </form>
                        </td>
                        <td></td>
                        <!-- <td>
                            <button type="button" class="btn btn-danger delete-btn" data-bs-toggle="modal"
                                th:data-bs-target="'#confirmModal-' + ${curso.id}">Borrar</button>
                        </td> -->
                    </tr>
                </tbody>
            </table>
        </div>
        <!-- <div th:each="curso, i : ${likeTitulo}" th:id="'confirmModal-' + ${curso.id}" class="modal fade" tabindex="-1"
            role="dialog" th:aria-labelledby="'confirmModalLabel-' + ${curso.id}" aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="'confirmModalLabel-' + ${curso.id}">Confirmar borrado</h5>
                        <button type="button" class="close" data-bs-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <p>¿Estás seguro de que quieres borrar este curso?</p>
                    </div>
                    <div class="modal-footer">
                        <form th:action="@{/removeCurso}">
                            <input type="text" class="form-control" th:value="*{curso.id}" 
                            name="idBorrar" hidden="true">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                            <button type="submit" class="btn btn-danger">Borrar</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
     -->


            <footer>
            <div class="footer">
                <div class="container">
                    <div class="logo-container-footer">
                        <img src="img/logo1.png" alt="logo patitas">
                    </div>  
                    <div class="derechos">
                        <p >&copy; ENCUENTRAME - Todos los derechos reservados</p>
                    </div>
                    <div class="contact-container">
                        <h4>Contacto</h4>
                        <p>Correo: nocountry@gmail.com</p>
                        <p>Teléfono: (342) 155119142</p>
                    </div>
                    <div class="social-icons">
                        <ul>
                            <li><a href="#" target="_blank"><i class="fa-brands fa-instagram fa-flip fa-2xl"></i></a></li>
                            <li><a href="#" target="_blank"><i class="fa-brands fa-x-twitter fa-flip fa-2xl"></i></a></li>
                            <li><a href="#" target="_blank"><i class="fa-brands fa-facebook fa-flip fa-2xl"></i></a></li>
                        </ul>
                    </div>       
                </div>
            </div> 
        </footer>


        <script src="js/index.js"></script>
     
    </body>
</html>